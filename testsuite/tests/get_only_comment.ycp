// Sysconfig module - testsuite
//
// get_only_comment tests
//
// testedfiles: Sysconfig.ycp
//
// $Id$
//

{

import "Testsuite";

import "Pkg";   // override packamanager

import "Mode";		// mode is imported in Product
Mode::config = true;	// package manager is initialized in Product constructor when Mode::config is false !!
import "Sysconfig";

// Note: Testsuite::Dump is used instead of Testsuite::Test, because it supports multiline
// output (Testsuite::Test dumps only first line)

string input = nil;
Testsuite::Dump( sformat("Input: %1", input) );
Testsuite::Dump( "Output:" );
Testsuite::Dump( Sysconfig::get_only_comment(input) );
Testsuite::Dump( "---" );

input = "";
Testsuite::Dump( sformat("Input: %1", input) );
Testsuite::Dump( "Output:" );
Testsuite::Dump( Sysconfig::get_only_comment(input) );
Testsuite::Dump( "---" );

input = "# sdfa  ";
Testsuite::Dump( sformat("Input: %1", input) );
Testsuite::Dump( "Output:" );
Testsuite::Dump( Sysconfig::get_only_comment(input) );
Testsuite::Dump( "---" );

input = "### gfh ";
Testsuite::Dump( sformat("Input: %1", input) );
Testsuite::Dump( "Output:" );
Testsuite::Dump( Sysconfig::get_only_comment(input) );
Testsuite::Dump( "---" );

input = "# dsfds";
Testsuite::Dump( sformat("Input: %1", input) );
Testsuite::Dump( "Output:" );
Testsuite::Dump( Sysconfig::get_only_comment(input) );
Testsuite::Dump( "---" );

input = "# adsf \n# sdfwer\n";
Testsuite::Dump( sformat("Input: %1", input) );
Testsuite::Dump( "Output:" );
Testsuite::Dump( Sysconfig::get_only_comment(input) );
Testsuite::Dump( "---" );

input = "\n\n#134\n   \n#34763\n  ##Path";
Testsuite::Dump( sformat("Input: %1", input) );
Testsuite::Dump( "Output:" );
Testsuite::Dump( Sysconfig::get_only_comment(input) );

}

